# TrafficMask - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

## Ğ§Ñ‚Ğ¾ ÑÑ‚Ğ¾?

TrafficMask - ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ° Ğ¿Ğ¾ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°Ğ¼ Ğ´Ğ»Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¾Ñ‚ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°. ĞĞ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ VLESS, Ğ½Ğ¾ Ñ Ñ„Ğ¾ĞºÑƒÑĞ¾Ğ¼ Ğ½Ğ° Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºÑƒ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ°.

## Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº

### 1. Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Windows:**
```cmd
build.bat
```

**Linux/macOS:**
```bash
chmod +x build.sh
./build.sh
```

### 2. Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²ĞµÑ€Ğ°

```bash
# Windows
.\bin\trafficmask-server.exe

# Linux/macOS
./bin/trafficmask-server
```

Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑÑ Ğ½Ğ° `http://localhost:8080`

### 3. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Go ĞºĞ»Ğ¸ĞµĞ½Ñ‚:**
```bash
# Windows
.\bin\trafficmask-client.exe

# Linux/macOS
./bin/trafficmask-client
```

**Python ĞºĞ»Ğ¸ĞµĞ½Ñ‚:**
```bash
python examples/api_demo.py
```

**Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:**
```bash
python examples/advanced_features_demo.py
```

**Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğµ Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸ĞºĞ¸ (Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ VK Tunnel):**
```bash
python examples/russia_features_demo.py
```

**C++ ÑĞ´Ñ€Ğ¾:**
```bash
# Windows
.\build\Release\trafficmask_core.exe

# Linux/macOS
./build/cpp/core/trafficmask_core
```

## API Endpoints

- `GET /api/v1/status` - Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
- `GET /api/v1/signatures` - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€
- `POST /api/v1/signatures` - Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ñƒ
- `DELETE /api/v1/signatures/{id}` - Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ñƒ
- `GET /api/v1/stats` - Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- `GET /api/v1/config` - ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

## ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€Ñ‹ Ñ‡ĞµÑ€ĞµĞ· curl

```bash
curl -X POST http://localhost:8080/api/v1/signatures \
  -H "Content-Type: application/json" \
  -d '{"signature": "my_pattern", "type": "regex"}'
```

### ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸

```bash
curl http://localhost:8080/api/v1/stats
```

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Go Server     â”‚    â”‚   C++ Core      â”‚    â”‚  Signature      â”‚
â”‚   (HTTP API)    â”‚â—„â”€â”€â–ºâ”‚   (Traffic      â”‚â—„â”€â”€â–ºâ”‚  Processors     â”‚
â”‚                 â”‚    â”‚   Processing)   â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Go Client     â”‚    â”‚   Packet        â”‚    â”‚   HTTP/TLS/DNS   â”‚
â”‚   (Management)  â”‚    â”‚   Processing    â”‚    â”‚   Maskers        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### C++ Core
- **TrafficMaskEngine** - ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ´Ğ²Ğ¸Ğ¶Ğ¾Ğº
- **TrafficProcessor** - ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ²
- **Signature Processors** - ĞŸÑ€Ğ¾Ñ†ĞµÑÑĞ¾Ñ€Ñ‹ ÑĞ¸Ğ³Ğ½Ğ°Ñ‚ÑƒÑ€

### Go Server
- **HTTP API** - REST API Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- **Configuration** - Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸ĞµĞ¹
- **Logging** - Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Signature Processors
- **HttpHeaderMasker** - ĞœĞ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° HTTP Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¾Ğ²
- **TlsFingerprintMasker** - ĞœĞ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° TLS fingerprint
- **DnsQueryMasker** - ĞœĞ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° DNS Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- **SniMasker** - ĞœĞ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° SNI (Server Name Indication)
- **IpSidrMasker** - ĞœĞ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° IP SIDR (Source IP Diversity)
- **VkTunnelMasker** - ĞœĞ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° VK Tunnel (Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ VK Tunnel)

### ğŸ‡·ğŸ‡º Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğµ Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸ĞºĞ¸
- **Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğµ Ğ´Ğ¾Ğ¼ĞµĞ½Ñ‹**: vk.com, mail.ru, yandex.ru, ok.ru, rambler.ru
- **Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğµ IP**: Ğ¯Ğ½Ğ´ĞµĞºÑ DNS, Mail.ru, Rambler, VK Ğ°Ğ´Ñ€ĞµÑĞ°
- **VK Tunnel ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ**: ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ñ€Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼

## ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ñ„Ğ°Ğ¹Ğ»: `configs/config.yaml`

```yaml
server:
  host: "0.0.0.0"
  port: 8080

security:
  enable_signature_masking: true
  allowed_signatures:
    - "http_header_masker"
    - "tls_fingerprint_masker"
    - "dns_query_masker"

logging:
  level: "info"
  format: "text"
```

## Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

âš ï¸ **Ğ’ĞĞ–ĞĞ**: ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ¿Ñ€ĞµĞ´Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ·Ğ°ĞºĞ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ° Ğ´Ğ»Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¾Ñ‚ Ğ½ĞµĞ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº.

## ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°

- Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ: `docs/USAGE.md`
- ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹: `examples/`
- ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ: `configs/`

## Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¼ĞµÑÑ‚Ğ½Ğ¾Ğ¼Ñƒ Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ñƒ.
